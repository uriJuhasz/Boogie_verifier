\usepackage[dvipsnames]{xcolor}
\usepackage{amssymb,amsmath}
\usepackage{listings}
\usepackage{graphicx}
\usepackage[font=small]{caption}
\usepackage{textcomp}
\usepackage{proof}
\usepackage{amsthm}
\usepackage{stmaryrd}
\usepackage{cancel}
\usepackage{ifthen}
\usepackage{adjustbox}
\usepackage{geometry}
\usepackage{float}
\usepackage{caption}
\usepackage{subcaption}

\usepackage{enumitem}
\usepackage[normalem]{ulem}
\usepackage[pagestyles]{titlesec}
\usepackage[titletoc]{appendix}

\usepackage{tikz}
\usetikzlibrary{positioning,calc, shapes, backgrounds,arrows,automata}


\usepackage{etoolbox}
\apptocmd{\thebibliography}{\raggedright}{}{}

\usepackage{float}
\floatstyle{boxed}
\restylefloat{table}
\restylefloat{figure}

\theoremstyle{definition}

\raggedbottom

\AtBeginDocument{%
  \renewcommand{\thelstlisting}{%
		\ifnum\value{subsection}=0
      \thesection.\arabic{lstlisting}%
    \else
      \ifnum\value{subsubsection}=0
        \thesubsection.\arabic{lstlisting}%
      \else
        \thesubsubsection.\arabic{lstlisting}%
      \fi
    \fi
  }
}

\makeatletter
\def\pgf@plot@curveto@handler@finish{%
  \ifpgf@plot@started%
    \pgfpathcurvebetweentimecontinue{0}{0.995}{\pgf@plot@curveto@first}{\pgf@plot@curveto@first@support}{\pgf@plot@curveto@second}{\pgf@plot@curveto@second}%
  \fi%
}
\makeatother

\input{setup/title_page}

\newpagestyle{main}{%
   %\sethead[\thepage][][\chaptername\ \thechapter: \chaptertitle]{\chaptername\ \thechapter: \chaptertitle}{}{\thepage}
	   \sethead*{\chaptername\ \thechapter: \chaptertitle}{}{\thepage}
   \headrule
}

\renewpagestyle{plain}{%
   \setfoot*{}{\thepage}{}%{}{\thepage}{}
%	\footrule
}

\newpagestyle{bibPS}{%
   \sethead*{\chaptertitle}{}{\thepage}%{\chaptertitle}{}{\thepage}
   \headrule
}
\newpagestyle{appPS}{%
   \sethead*{Appendix\ \thechapter: \chaptertitle}{}{\thepage}%{Appendix\ \thechapter: \chaptertitle}{}{\thepage}
   \headrule
}

\makeatletter
\renewcommand\chapter{\if@openright\cleardoublepage\else\clearpage\fi
                    \thispagestyle{plain}% original style: plain
                    \global\@topnum\z@
                    \@afterindentfalse
                    \secdef\@chapter\@schapter}
\makeatother


%\newpage

\input{setup/macros_tikz}

\renewcommand{\ttdefault}{pcr}
\lstdefinestyle{myCode}{
	mathescape,
  escapeinside={\^}{\^},
	language={Java},
  basicstyle=\ttfamily\small,
	commentstyle=\color{gray}\ttfamily,
	keywordstyle=\bfseries\color{black}\ttfamily,
	tabsize=3,
	mathescape,
	showstringspaces=false,
	showspaces=false
	numbers=left,
	keywordstyle=\bfseries\color{black!40!black},
	morekeywords={var,method,then,and,or,xor,not,until,method,requires,method,ensures,until,foreach,variant,invariant}
}
\lstset{style=myCode}




\makeatletter
\newif\if@abstractmode

\renewenvironment{titlepage}
{
  \if@twocolumn
  \@restonecoltrue\onecolumn
  \else
  \@restonecolfalse\newpage
  \fi
  \if@abstractmode
  \thispagestyle{plain}%
  \stepcounter{page}%
  \else
  \thispagestyle{empty}%
  \setcounter{page}\@ne%
  \fi
}%
{\if@restonecol\twocolumn \else \newpage \fi
  \if@twoside\else
  \if@abstractmode
  \else
  \setcounter{page}\@ne%
  \fi
  \fi
}

\AtBeginEnvironment{abstract}{%
  \@abstractmodetrue%
}


\makeatother


\newgeometry{top=2cm,bottom=2cm,left=2cm,right=2cm}
