\showboxdepth=\maxdimen
\showboxbreadth=\maxdimen

\chapter{Unit ground first order logic with equality}\label{chapter:ugfole}
In this chapter we present an incremental, on-demand algorithm and data-structure for propagating equality information and verifying programs in the fragment of unit ground first order logic with equality - GFOLE. 
The algorithm is not intended as a stand alone verifier, but rather as a basis for the verification algorithms for stronger fragments.
The algorithm maintains a data-structure at each CFG-node that encodes some equality information and is updated on-demand with information from predecessors.
Other fragments can query the data structure on whether a ground equality holds at a given CFG-node, and can also add a derived equalities to the data-structure at a given CFG-node. The algorithm ensures that enough equality information is propagated to answer the queries that are provable in the fragment, including performing joins of congruence relations at join nodes, and the data-structure is updated accordingly. Equality propagation is done incrementally.
When another fragment derives an equality at some CFG-node, the algorithm ensures that this equality is propagated wherever it may affect the result of a previously queried equality, under some limitations.

Our data-structure at each CFG-node is similar to an E-graphs but ensures that the represented congruence relation is fully reduced.
In addition to a term-graph, the data-structure includes a relation between the graph of a CFG-node and those of its predecessors, 
used to communicate equality information.

We start by presenting our graph data structure. 
We continue by discussing the limitations of using EC-graphs (or sets of equalities) to represent post-conditions in the CFG.
Next we present the problem of lazy information propagation and present our algorithm for equality propagation for CFGs without joins.
In the next section we present our join algorithm as an extension to the join-less algorithm.
Lastly we discuss related work.

\include{ugfole_cc_graphs}
\include{ugfole_cc_cfg}
\include{ugfole_information_propagation}
\include{ugfole_joins}
\include{ugfole_related_work}
%%\include{ugfole_fragment}
%%\include{ugfole_pt_semantics}
%%\include{ugfole_graph_invariant}
%%\include{crap}
